# 快速入门指南

## 🎯 5分钟快速上手

### 第一步：环境准备

#### 安装 Rust
```bash
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
source ~/.cargo/env
```

#### 安装数据库 (可选)
```bash
# Ubuntu/Debian
sudo apt install postgresql postgresql-contrib

# macOS
brew install postgresql
```

### 第二步：获取项目

```bash
# 下载项目
git clone https://github.com/hft-team/hft-system.git
cd hft-system

# 或者下载发布包
wget https://github.com/hft-team/hft-system/releases/latest/download/hft-system.tar.gz
tar -xzf hft-system.tar.gz
cd hft-system
```

### 第三步：配置 API 密钥

#### 获取 API 密钥
1. **Binance**: 登录 [Binance](https://binance.com) → API 管理 → 创建 API Key
2. **OKX**: 登录 [OKX](https://okx.com) → API → 创建 API Key  
3. **Gate**: 登录 [Gate.io](https://gate.io) → API → 创建 API Key

#### 设置环境变量
```bash
export BINANCE_API_KEY="your_binance_api_key"
export BINANCE_SECRET_KEY="your_binance_secret_key"
export OKX_API_KEY="your_okx_api_key"
export OKX_SECRET_KEY="your_okx_secret_key"
export GATE_API_KEY="your_gate_api_key"
export GATE_SECRET_KEY="your_gate_secret_key"
```

### 第四步：启动系统

```bash
# 编译 (首次运行)
cargo build --release

# 启动
./target/release/hft_system
```

看到以下输出表示启动成功：
```
2025-01-01T12:00:00.000Z INFO HFT System started successfully
2025-01-01T12:00:00.001Z INFO Strategy engine initialized
2025-01-01T12:00:00.002Z INFO Order management system ready
```

## 🛠️ 基础配置

### 创建配置文件

```bash
cp config.toml.example config.toml
```

### 编辑配置文件

```toml
[system]
log_level = "info"
worker_threads = 4

[exchanges.binance]
enabled = true
testnet = true  # 建议初次使用时启用测试网

[strategy.market_making]
enabled = true
spread_bps = 20        # 价差 0.2%
order_size = 0.001     # 订单大小 0.001 BTC
max_position = 0.01    # 最大持仓 0.01 BTC
```

## 📊 验证系统运行

### 检查系统状态
```bash
curl http://localhost:8080/health
```

预期响应：
```json
{
  "status": "healthy",
  "timestamp": "2025-01-01T12:00:00Z",
  "version": "1.0.0"
}
```

### 查看策略状态
```bash
curl http://localhost:8080/strategies/status
```

### 查看订单统计
```bash
curl http://localhost:8080/orders/stats
```

## 🎮 基本操作

### 手动下单示例

```rust
use hft_system::*;

#[tokio::main]
async fn main() -> Result<()> {
    let system = HftSystem::new().await?;
    
    // 创建买单
    let order = OrderRequest::new_limit(
        Symbol::new("BTC", "USDT", Exchange::Binance),
        OrderSide::Buy,
        Decimal::new(1, 3), // 0.001 BTC
        Decimal::new(50000, 0) // $50,000
    );
    
    // 提交订单
    let response = system.place_order(order).await?;
    println!("Order placed: {}", response.order_id);
    
    Ok(())
}
```

### 查询余额

```rust
let balances = system.get_balances(Exchange::Binance).await?;
for balance in balances {
    println!("{}: {} (free: {}, locked: {})", 
        balance.asset, balance.total, balance.free, balance.locked);
}
```

## 🤖 启用做市策略

### 基础做市策略

```toml
[strategy.market_making]
enabled = true
symbols = ["BTC/USDT", "ETH/USDT"]
spread_bps = 15           # 价差 0.15%
order_size = 0.001        # 订单大小
max_position = 0.01       # 最大持仓
refresh_interval_ms = 200 # 刷新间隔
```

### 高级做市策略

```toml
[strategy.advanced_market_making]
enabled = true
symbols = ["BTC/USDT"]
base_spread_bps = 10      # 基础价差
volatility_adjustment = true
inventory_management = true
max_layers = 3            # 多层报价
layer_spacing_bps = 5     # 层间距
```

## 🔍 监控和调试

### 查看日志
```bash
tail -f logs/hft_system.log
```

### 实时监控
```bash
# 系统指标
curl http://localhost:8080/metrics

# 策略性能
curl http://localhost:8080/strategies/performance

# 订单执行统计
curl http://localhost:8080/orders/execution_stats
```

### 调试模式
```bash
LOG_LEVEL=debug ./target/release/hft_system
```

## ⚠️ 安全提醒

### API 权限设置
- ✅ 启用：现货交易、查询余额、查询订单
- ❌ 禁用：提现、转账、期货交易

### 风险控制
```toml
[risk_management]
max_daily_loss = 100.0    # 日最大损失 $100
max_position_size = 0.1   # 最大持仓 0.1 BTC
emergency_stop = true     # 启用紧急停止
```

### IP 白名单
在交易所 API 设置中添加服务器 IP 到白名单。

## 🚨 常见问题

### Q: 编译失败怎么办？
```bash
# 更新 Rust 工具链
rustup update

# 清理并重新编译
cargo clean
cargo build --release
```

### Q: API 连接失败？
1. 检查 API 密钥是否正确
2. 确认 IP 白名单设置
3. 验证网络连接
```bash
curl -I https://api.binance.com/api/v3/ping
```

### Q: 订单被拒绝？
1. 检查余额是否充足
2. 确认交易对是否正确
3. 验证订单参数（价格、数量）

### Q: 系统性能不佳？
```bash
# 检查系统资源
htop

# 调整配置
[system]
worker_threads = 8  # 增加工作线程
```

## 📞 获取帮助

- 📖 [完整文档](https://docs.hft-system.com)
- 💬 [社区论坛](https://community.hft-system.com)
- 🐛 [问题反馈](https://github.com/hft-team/hft-system/issues)
- 📧 技术支持: support@hft-system.com

## 🎓 进阶学习

### 自定义策略开发
- [策略开发指南](docs/策略开发指南.md)
- [API 参考文档](docs/API文档.md)
- [示例策略代码](examples/)

### 性能优化
- [性能调优指南](docs/性能调优.md)
- [监控和告警](docs/监控指南.md)
- [故障排除](docs/故障排除.md)

### 生产部署
- [部署指南](docs/部署指南.md)
- [Docker 部署](docs/Docker部署.md)
- [Kubernetes 部署](docs/K8s部署.md)

---

🎉 **恭喜！** 你已经成功启动了高频交易系统。现在可以开始探索更多高级功能了！

