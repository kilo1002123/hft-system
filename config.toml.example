# 高频交易系统配置文件

[system]
# 日志级别: trace, debug, info, warn, error
log_level = "info"
# 工作线程数
worker_threads = 4
# 服务端口
port = 8080

[database]
# 数据库连接字符串
url = "postgresql://hft_user:hft_pass@localhost:5432/hft_system"
# 最大连接数
max_connections = 20
# 连接超时 (秒)
timeout = 30

[redis]
# Redis 连接字符串 (可选)
url = "redis://localhost:6379"
# 连接池大小
pool_size = 10

# Binance 交易所配置
[exchanges.binance]
enabled = true
api_key = "${BINANCE_API_KEY}"
secret_key = "${BINANCE_SECRET_KEY}"
base_url = "https://api.binance.com"
# 是否使用测试网
testnet = false
# 请求超时 (秒)
timeout = 30
# 最大重试次数
max_retries = 3

# OKX 交易所配置
[exchanges.okx]
enabled = true
api_key = "${OKX_API_KEY}"
secret_key = "${OKX_SECRET_KEY}"
passphrase = "${OKX_PASSPHRASE}"
base_url = "https://www.okx.com"
timeout = 30
max_retries = 3

# Gate 交易所配置
[exchanges.gate]
enabled = true
api_key = "${GATE_API_KEY}"
secret_key = "${GATE_SECRET_KEY}"
base_url = "https://api.gateio.ws/api/v4"
timeout = 30
max_retries = 3

# 做市策略配置
[strategy.market_making]
enabled = true
# 支持的交易对
symbols = ["BTC/USDT", "ETH/USDT"]
# 基础价差 (基点，1基点 = 0.01%)
spread_bps = 15
# 订单大小
order_size = 0.001
# 最大持仓
max_position = 0.01
# 刷新间隔 (毫秒)
refresh_interval_ms = 200
# 是否启用库存管理
inventory_management = true

# 高级做市策略配置
[strategy.advanced_market_making]
enabled = false
symbols = ["BTC/USDT"]
# 基础价差
base_spread_bps = 10
# 波动率调整
volatility_adjustment = true
# 最大层数
max_layers = 3
# 层间距 (基点)
layer_spacing_bps = 5
# 订单大小衰减因子
size_decay_factor = 0.8

# 风险管理配置
[risk_management]
# 是否启用风险控制
enabled = true
# 日最大损失 (USDT)
max_daily_loss = 1000.0
# 最大持仓大小 (BTC)
max_position_size = 0.1
# 最大订单大小 (BTC)
max_order_size = 0.01
# 每秒最大订单数
max_orders_per_second = 10
# 是否启用紧急停止
emergency_stop = true

# 监控配置
[monitoring]
# 是否启用监控
enabled = true
# 指标收集间隔 (秒)
metrics_interval = 60
# 是否启用告警
alerts_enabled = true
# 告警邮箱
alert_email = "admin@example.com"

# 持久化配置
[persistence]
# 批处理大小
batch_size = 100
# 刷新间隔 (秒)
flush_interval = 5
# 是否启用压缩
compression = true
# 数据保留天数
retention_days = 30

# 回测配置
[backtesting]
# 历史数据路径
data_path = "./data"
# 起始日期
start_date = "2024-01-01"
# 结束日期
end_date = "2024-12-31"
# 初始资金 (USDT)
initial_capital = 10000.0
# 手续费率
fee_rate = 0.001

